<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Submodules of acceptance.jl ¬∑ CoRaLS Documentation</title><meta name="title" content="Submodules of acceptance.jl ¬∑ CoRaLS Documentation"/><meta property="og:title" content="Submodules of acceptance.jl ¬∑ CoRaLS Documentation"/><meta property="twitter:title" content="Submodules of acceptance.jl ¬∑ CoRaLS Documentation"/><meta name="description" content="Documentation for CoRaLS Documentation."/><meta property="og:description" content="Documentation for CoRaLS Documentation."/><meta property="twitter:description" content="Documentation for CoRaLS Documentation."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CoRaLS Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Getting Started</a></li><li><a class="tocitem" href="../acceptance_jl/">acceptance.jl: Main Monte Carlo Loop</a></li><li><a class="tocitem" href="../simulate_jl/">simulate.jl: Main Cosmic Ray Simulation</a></li><li class="is-active"><a class="tocitem" href>Submodules of acceptance.jl</a><ul class="internal"><li><a class="tocitem" href="#cosmic_ray.jl"><span>cosmic_ray.jl</span></a></li><li><a class="tocitem" href="#efield.jl"><span>efield.jl</span></a></li><li><a class="tocitem" href="#fresnel.jl"><span>fresnel.jl</span></a></li><li><a class="tocitem" href="#geometry.jl"><span>geometry.jl</span></a></li><li><a class="tocitem" href="#ice.jl"><span>ice.jl</span></a></li><li><a class="tocitem" href="#regolith.jl"><span>regolith.jl</span></a></li><li><a class="tocitem" href="#spectrum.jl"><span>spectrum.jl</span></a></li><li><a class="tocitem" href="#surface.jl"><span>surface.jl</span></a></li><li><a class="tocitem" href="#trigger.jl"><span>trigger.jl</span></a></li><li><a class="tocitem" href="#detector.jl"><span>detector.jl</span></a></li><li><a class="tocitem" href="#Sky"><span>Sky</span></a></li><li><a class="tocitem" href="#utils.jl"><span>utils.jl</span></a></li><li><a class="tocitem" href="#plots.jl"><span>plots.jl</span></a></li></ul></li><li><a class="tocitem" href="../other_modules/">Other Modules</a></li><li><a class="tocitem" href="../tutorials/">Tutorials</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Submodules of acceptance.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Submodules of acceptance.jl</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/cjtu/CoRaLS.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/cjtu/CoRaLS.jl/blob/main/docs/src/submodules_acceptance.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Modules-used-in-acceptance.jl"><a class="docs-heading-anchor" href="#Modules-used-in-acceptance.jl">Modules used in acceptance.jl</a><a id="Modules-used-in-acceptance.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Modules-used-in-acceptance.jl" title="Permalink"></a></h1><p>The main sub-modules called by <code>acceptance.jl</code>.</p><h2 id="cosmic_ray.jl"><a class="docs-heading-anchor" href="#cosmic_ray.jl">cosmic_ray.jl</a><a id="cosmic_ray.jl-1"></a><a class="docs-heading-anchor-permalink" href="#cosmic_ray.jl" title="Permalink"></a></h2><p>Models cosmic rays and interactions. Computes depth of shower maximum (Xmax), and charge excess profile of cosmic ray-induced showers.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.charge_excess_profile-Tuple{Unitful.Quantity{Float64, ùêã^2 ùêå ùêì^-2, Unitful.FreeUnits{(EeV,), ùêã^2 ùêå ùêì^-2, nothing}}}" href="#CoRaLS.charge_excess_profile-Tuple{Unitful.Quantity{Float64, ùêã^2 ùêå ùêì^-2, Unitful.FreeUnits{(EeV,), ùêã^2 ùêå ùêì^-2, nothing}}}"><code>CoRaLS.charge_excess_profile</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">charge_excess_profile(Ecr::Unitful.Quantity)</code></pre><p>Return the profile of excess shower charge (in Coulombs) for a cosmic ray of energy <code>Ecr</code>.</p><p>This function calculates the charge profile based on parameters derived from ZHAireS simulations of cosmic ray air showers.</p><p><strong>Arguments</strong></p><ul><li><code>Ecr</code>: Energy of the cosmic ray in EeV.</li></ul><p><strong>Returns</strong></p><ul><li>Function <code>Q(z)</code> that evaluates the shower charge profile at a given distance <code>z</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/cosmic_ray.jl#L125-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.estimate_Xmax-Tuple{Any}" href="#CoRaLS.estimate_Xmax-Tuple{Any}"><code>CoRaLS.estimate_Xmax</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">estimate_Xmax(Ecr::Unitful.Quantity)</code></pre><p>Estimate the mean and variation in Xmax for a given cosmic ray energy <code>Ecr</code>.</p><p>Xmax is the maximum depth in the atmosphere where a cosmic ray-induced air shower reaches its peak intensity. This function uses the Auger fits to Xmax and œÉ(Xmax) from:     https://www.icrc2019.org/uploads/1/1/9/0/         119067782/yushkov<em>auger</em>icrc2019<em>mass1</em>talk_final.pdf</p><p>This is only valid up to 1e20.5 (VERIFY THIS).</p><p><strong>Arguments</strong></p><ul><li><code>Ecr</code>: Energy of the cosmic ray in EeV.</li></ul><p><strong>Returns</strong></p><ul><li>Tuple of (mean, sigma) of Xmax in g/cm^2.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/cosmic_ray.jl#L14-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.propagate_to_Xmax-NTuple{4, Any}" href="#CoRaLS.propagate_to_Xmax-NTuple{4, Any}"><code>CoRaLS.propagate_to_Xmax</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">propagate_to_Xmax(origin, direction, Ecr, densitymodel)</code></pre><p>Propagate a cosmic ray from the surface to its shower maximum (Xmax).</p><p>This function calculates the point of shower maximum based on the cosmic ray&#39;s energy and direction, considering the density model of the medium through which it propagates.</p><p><strong>Arguments</strong></p><ul><li><code>origin</code>: Starting point of the cosmic ray.</li><li><code>direction</code>: Direction vector of the cosmic ray.</li><li><code>Ecr</code>: Energy of the cosmic ray.</li><li><code>densitymodel</code>: Model of the density of the medium.</li></ul><p><strong>Returns</strong></p><ul><li>The position vector where the cosmic ray reaches Xmax.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/cosmic_ray.jl#L59-L74">source</a></section></article><h2 id="efield.jl"><a class="docs-heading-anchor" href="#efield.jl">efield.jl</a><a id="efield.jl-1"></a><a class="docs-heading-anchor-permalink" href="#efield.jl" title="Permalink"></a></h2><p>Model and scale the electric field from a supplied cosmic ray event lookup table file.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.ARW" href="#CoRaLS.ARW"><code>CoRaLS.ARW</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>The &quot;ARW&quot; model from Practical &amp; Accurate Calculations...</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L90-L92">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.FORTE" href="#CoRaLS.FORTE"><code>CoRaLS.FORTE</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>The FORTE (N. Lehtinen, PRD 2004) field model.</p><p>This requires an argument to determine what charge profile to use - currently Gaussian or GaisserHillas</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L72-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.FieldModel" href="#CoRaLS.FieldModel"><code>CoRaLS.FieldModel</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This type is the base for all instances of electric field models for the cosmic ray emission.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L51-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.GaisserHillasProfile" href="#CoRaLS.GaisserHillasProfile"><code>CoRaLS.GaisserHillasProfile</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Gaisser-Hillas charge excess profile.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L67-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.GaussianProfile" href="#CoRaLS.GaussianProfile"><code>CoRaLS.GaussianProfile</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Gaussian charge excess profile.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L62-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.JAM" href="#CoRaLS.JAM"><code>CoRaLS.JAM</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>The JAM field model.</p><p>This is model is <em>wrong</em> and should never be used for production results. The angular width is <em>way</em> too wide.</p><p>Parameterization from Alvarez-muniz et al arxiv:astro-ph/0512337 2005.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L80-L87">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.ProfileModel" href="#CoRaLS.ProfileModel"><code>CoRaLS.ProfileModel</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This type is the base for all longitudinal profile models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L57-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.ARW_RE" href="#CoRaLS.ARW_RE"><code>CoRaLS.ARW_RE</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>The data file for the practical and accurate calculation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L46-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.attenuation_length-Tuple{Any, Any, Any}" href="#CoRaLS.attenuation_length-Tuple{Any, Any, Any}"><code>CoRaLS.attenuation_length</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">attenuation_length(ŒΩ, n, density; tanŒ¥norm=6.5e-4)</code></pre><p>Calculate the attenuation length for radio waves in regolith at given frequencies. This function considers the refractive index and density of the regolith, as well as the loss tangent, to estimate how far radio waves can travel before being significantly attenuated.</p><p><strong>Arguments</strong></p><ul><li><code>ŒΩ</code>: Array of frequencies.</li><li><code>n</code>: Refractive index of the medium.</li><li><code>density</code>: Density of the medium.</li><li><code>tanŒ¥norm</code>: Normalized loss tangent (default: 6.5e-4).</li></ul><p><strong>Returns</strong></p><ul><li>Array of attenuation lengths corresponding to each frequency.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L291-L304">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.load_ARW-Tuple{}" href="#CoRaLS.load_ARW-Tuple{}"><code>CoRaLS.load_ARW</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_ARW()</code></pre><p>Load the ARW (Askaryan Radio Wave) electric field data and construct an interpolator for the electric field. This function is responsible for reading the ARW data from a file and setting up a linear interpolation model for later use in electric field calculations.</p><p><strong>Returns</strong></p><ul><li>A function that takes an angle (Œ∏) and frequency (ŒΩ) and returns the interpolated electric field value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L25-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.regolith_field-Tuple{ARW, Vararg{Any, 4}}" href="#CoRaLS.regolith_field-Tuple{ARW, Vararg{Any, 4}}"><code>CoRaLS.regolith_field</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">regolith_field(::ARW, Ecr, Œ∏, Drego, Dvacuum; kwargs...)</code></pre><p>Calculate the integrated electric field at the payload using the ARW model. This function takes into account the cosmic ray energy, viewing angle, and distances through regolith and vacuum to compute the electric field.</p><p><strong>Arguments</strong></p><ul><li><code>Ecr</code>: Energy of the cosmic ray.</li><li><code>Œ∏</code>: Viewing angle.</li><li><code>Drego</code>: Distance through regolith.</li><li><code>Dvacuum</code>: Distance through vacuum.</li><li><code>kwargs</code>: Additional keyword arguments for fine-tuning the model.</li></ul><p><strong>Returns</strong></p><ul><li>Tuple of frequencies and corresponding electric field values.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L95-L109">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.regolith_field-Tuple{JAM, Vararg{Any, 4}}" href="#CoRaLS.regolith_field-Tuple{JAM, Vararg{Any, 4}}"><code>CoRaLS.regolith_field</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">regolith_field(::JAM, Ecr, Œ∏,
                    Drego, Dvacuum;
                    n = sqrt(2.8), ŒΩ_min=30.0MHz, ŒΩ_max=300.0MHz, dŒΩ=10.0MHz,
                    Latten = 35.0m)</code></pre><p>Calculate the integrated electric field at the payload using the JAM model.</p><p><em>Do not use this</em> - this vastly overestimates the width of the &quot;beam&quot;, and allows significantly more events to pass.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/efield.jl#L221-L231">source</a></section></article><h2 id="fresnel.jl"><a class="docs-heading-anchor" href="#fresnel.jl">fresnel.jl</a><a id="fresnel.jl-1"></a><a class="docs-heading-anchor-permalink" href="#fresnel.jl" title="Permalink"></a></h2><p>Computes fresnel coefficients and wave divergence at the surface.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.DivergenceModel" href="#CoRaLS.DivergenceModel"><code>CoRaLS.DivergenceModel</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Abstract type for a divergence model for surface refraction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/fresnel.jl#L16-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.FarFieldDivergence" href="#CoRaLS.FarFieldDivergence"><code>CoRaLS.FarFieldDivergence</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Far-field (spherical) divergence.</p><p>This is taken from the FORTE paper.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/fresnel.jl#L21-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.MixedFieldDivergence" href="#CoRaLS.MixedFieldDivergence"><code>CoRaLS.MixedFieldDivergence</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Somewhere between near- and far- field divergence.</p><p>This is currently approximated by an additional <code>sqrt(n)</code> factor out front of the far-field (spherical) divergence.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/fresnel.jl#L36-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.NearFieldDivergence" href="#CoRaLS.NearFieldDivergence"><code>CoRaLS.NearFieldDivergence</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Near-field (cylindrical) divergence.</p><p>This is currently approximated by an additional <code>n</code> factor out front of the far-field (spherical) divergence.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/fresnel.jl#L28-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.divergence_tpar-Tuple{FarFieldDivergence, Vararg{Any, 4}}" href="#CoRaLS.divergence_tpar-Tuple{FarFieldDivergence, Vararg{Any, 4}}"><code>CoRaLS.divergence_tpar</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">divergence_tpar(Œ∏_i, n, Drego, Dvacuum)</code></pre><p>Calculate modified Fresnel transmission coefficients for the parallel polarization, considering far-field (spherical) divergence of waves at the surface.</p><pre><code class="language-julia hljs">    # Arguments
    - `Œ∏_i`: Incident angle.
    - `n`: Refractive index of the medium.
    - `Drego`: Distance through regolith.
    - `Dvacuum`: Distance through vacuum.</code></pre><p>Note: We construct this so that it can be directly multiplied to an electric field, so have to back out the total distance, before doing the scaling.</p><p>Note: Since the refraction occurs in the near field (Fresnel region), the standard far-field (i.e. spherical) divergence assumption in the FORTE paper doesn&#39;t hold. Our current model for this is an additional factor of <code>n</code> (which boosts the transmission).</p><p>See the FORTE paper, Appendix 2, for more details. arXiV:0309656</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/fresnel.jl#L152-L171">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.divergence_tperp-Tuple{FarFieldDivergence, Vararg{Any, 4}}" href="#CoRaLS.divergence_tperp-Tuple{FarFieldDivergence, Vararg{Any, 4}}"><code>CoRaLS.divergence_tperp</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">divergence_tperp(::FarFieldDivergence, Œ∏_i, n, Drego, Dvacuum)</code></pre><p>Calculate modified Fresnel transmission coefficients for the perpendicular polarization, considering far-field (spherical) divergence of waves at the surface.</p><p><strong>Arguments</strong></p><ul><li><code>Œ∏_i</code>: Incident angle.</li><li><code>n</code>: Refractive index of the medium.</li><li><code>Drego</code>: Distance through regolith.</li><li><code>Dvacuum</code>: Distance through vacuum.</li></ul><p><strong>Returns</strong></p><ul><li>Modified Fresnel transmission coefficient for perpendicular polarization.</li></ul><p>Note: We construct this so that it can be directly multiplied to an electric field, so have to back out the total distance, before doing the scaling.</p><p>Note: Since the refraction occurs in the near field (Fresnel region), the standard far-field (i.e. spherical) divergence assumption in the FORTE paper doesn&#39;t hold. Our current model for this is an additional factor of <code>n</code> (which boosts the transmission).</p><p>See the FORTE paper, Appendix 2, for more details. arXiV:0309656</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/fresnel.jl#L114-L136">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.fresnel_coeffs-Tuple{Any, Any, Any}" href="#CoRaLS.fresnel_coeffs-Tuple{Any, Any, Any}"><code>CoRaLS.fresnel_coeffs</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fresnel_coeffs(Œ∏i, ni, nt; simple_t = true)</code></pre><p>Calculate the parallel and perpendicular Fresnel reflection and transmission  coefficients. </p><p>Each coefficient is the ratio of reflected/transmitted to incident amplitude (denoted r and t, not to be confused with fresnel coefficients for power, R and T)</p><p>If simple<em>t is true (default) then the transmission coefficients are calculated as follows, otherwise they use the full Fresnel equations.     t</em>parallel = ni * (r<em>parallel + 1) / nt     t</em>perpendicular = r_perpendicular + 1</p><p><strong>Arguments</strong></p><ul><li><code>Œ∏i</code>: Incident angle.</li><li><code>ni</code>: Refractive index of the initial medium.</li><li><code>nt</code>: Refractive index of the transmitting medium.</li></ul><p><strong>Returns</strong></p><ul><li><code>(rpar, rperp, tpar, tperp)</code>: Fresnel coefficients.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/fresnel.jl#L68-L90">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.fresnel_critical-Tuple{Any, Any}" href="#CoRaLS.fresnel_critical-Tuple{Any, Any}"><code>CoRaLS.fresnel_critical</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fresnel_critical(ni, nt)</code></pre><p>Calculate the critical angle for total internal reflection.</p><p><strong>Arguments</strong></p><ul><li><code>ni</code>: Refractive index of the initial medium.</li><li><code>nt</code>: Refractive index of the transmitting medium.</li></ul><p><strong>Returns</strong></p><ul><li>Critical angle for total internal reflection.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/fresnel.jl#L51-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.snell_Œ∏t-Tuple{Any, Any, Any}" href="#CoRaLS.snell_Œ∏t-Tuple{Any, Any, Any}"><code>CoRaLS.snell_Œ∏t</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Œ∏t(Œ∏i, ni, nt)

Calculate the transmitted angle from Snell&#39;s Law.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/fresnel.jl#L44-L48">source</a></section></article><h2 id="geometry.jl"><a class="docs-heading-anchor" href="#geometry.jl">geometry.jl</a><a id="geometry.jl-1"></a><a class="docs-heading-anchor-permalink" href="#geometry.jl" title="Permalink"></a></h2><p>Model the geometry of the Moon and local</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.cartesian_to_latlon-Tuple{StaticArraysCore.SVector{3}}" href="#CoRaLS.cartesian_to_latlon-Tuple{StaticArraysCore.SVector{3}}"><code>CoRaLS.cartesian_to_latlon</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Convert a cartesian point (x, y, z) into (lat, lon).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L477-L479">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.cartesian_to_latlonalt-Tuple{StaticArraysCore.SVector{3}}" href="#CoRaLS.cartesian_to_latlonalt-Tuple{StaticArraysCore.SVector{3}}"><code>CoRaLS.cartesian_to_latlonalt</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Helper function to convert orbital position (x, y, z) to (lat, lon, altitude).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L487-L489">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.cartesian_to_spherical-Tuple{StaticArraysCore.SVector{3}}" href="#CoRaLS.cartesian_to_spherical-Tuple{StaticArraysCore.SVector{3}}"><code>CoRaLS.cartesian_to_spherical</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Convert a cartesian point (x, y, z) into a spherical point (theta, phi, r).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L468-L470">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.horizon_angle-Tuple{Any}" href="#CoRaLS.horizon_angle-Tuple{Any}"><code>CoRaLS.horizon_angle</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">horizon_angle(altitude; R=Rmoon)</code></pre><p>Calculate the angle below the horizontal of the horizon from a given altitude.</p><p>This returns &quot;negative&quot; angles, in radians, for &quot;below&quot; the horizontal.</p><p><strong>Arguments</strong></p><ul><li><code>height</code>: The altitude above the surface (with units).`</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L513-L523">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.intersect_with_sphere-Tuple{Any, Any, Any}" href="#CoRaLS.intersect_with_sphere-Tuple{Any, Any, Any}"><code>CoRaLS.intersect_with_sphere</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">intersect_with_sphere(start, direction, radius)</code></pre><p>Propagate a vector from <code>start</code> to <code>radius</code> along <code>direction</code>.</p><p>Assumes <code>direction</code> is normalized.</p><p>See the below link for the formalism behind this implementation:     https://www.scratchapixel.com/lessons/3d-basic-rendering/         minimal-ray-tracer-rendering-simple-shapes/ray-sphere-intersection</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L565-L576">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.latlon_to_cartesian-Tuple{Float64, Float64}" href="#CoRaLS.latlon_to_cartesian-Tuple{Float64, Float64}"><code>CoRaLS.latlon_to_cartesian</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Convert a (lat, lon) to cartesian (x, y, z) vector at radius r.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L497-L499">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.parse_orbit" href="#CoRaLS.parse_orbit"><code>CoRaLS.parse_orbit</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parse_orbit(fname)</code></pre><p>Parse orbital info from a CSV file with columns: time, longitude, latitude, altitude.</p><p>Returns SampledOrbit matrix of lon,lat,alt positions to randomly sample.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L268-L274">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.propagate_and_refract-NTuple{5, Any}" href="#CoRaLS.propagate_and_refract-NTuple{5, Any}"><code>CoRaLS.propagate_and_refract</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">propagate_and_refract(start, antenna, direction, scale, indexmodel)</code></pre><p>Propagate from <code>start</code> along <code>direction</code> to <code>antenna</code>, refracting at the surface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L618-L621">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_angles_on_cap-Tuple{Any}" href="#CoRaLS.random_angles_on_cap-Tuple{Any}"><code>CoRaLS.random_angles_on_cap</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Generate a (theta, phi) pair on a spherical cap uniformly in solid angle.</p><p>All angles are in radians.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L426-L430">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_direction" href="#CoRaLS.random_direction"><code>CoRaLS.random_direction</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">random_direction()</code></pre><p>Generate a random Cartesian direction distributed uniformly on the unit-sphere with the pole of the sphere aligned with <code>normal</code> weighted by cos^2(	heta)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L542-L547">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_north_pole_point-Tuple{}" href="#CoRaLS.random_north_pole_point-Tuple{}"><code>CoRaLS.random_north_pole_point</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">random_north_pole_point()</code></pre><p>Draw a random point on the North lunar pole</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L403-L407">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_point_on_cap-Tuple{Any}" href="#CoRaLS.random_point_on_cap-Tuple{Any}"><code>CoRaLS.random_point_on_cap</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Sample a random point on a spherical cap uniformly in solid angle.</p><p>We assume that the spherical cap is centered on the +z-pole of the sphere.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L443-L447">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_point_on_cicular_orbit" href="#CoRaLS.random_point_on_cicular_orbit"><code>CoRaLS.random_point_on_cicular_orbit</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return cartesian vector to spacecraft at altitude.</p><p>Note: this samples uniformly in latitude which does not give uniformly distributed points on the sphere (overdensity of points on the poles which  is expected for circular polar orbits).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L325-L331">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_point_on_elliptical_orbit" href="#CoRaLS.random_point_on_elliptical_orbit"><code>CoRaLS.random_point_on_elliptical_orbit</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return cartesian vector to spacecraft at altitude.</p><p>Note: this samples uniformly in latitude which does not give uniformly distributed points on the sphere (overdensity of points on the poles which  is expected for circular polar orbits).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L390-L396">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_point_on_elliptical_orbit-Tuple{Any, Any, Any}" href="#CoRaLS.random_point_on_elliptical_orbit-Tuple{Any, Any, Any}"><code>CoRaLS.random_point_on_elliptical_orbit</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">random_point_on_elliptical_orbit(periapse, apoapse, inclination; rbody=Rmoon)</code></pre><p>Return cartesian vector to spacecraft on an elliptical orbit.</p><p>Parameters:</p><ul><li>periapse: minimum altitude above reference body surface</li><li>apoapse: maximum altitude above reference body surface</li><li>inclination: orbital inclination in degrees</li><li>rbody: radius of the central body (default: Rmoon)</li></ul><p>Note: This samples uniformly in true anomaly which gives a non-uniform distribution of points along the orbit (points are more densely distributed near periapse than apoapse, which is physically correct for constant angular momentum).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L338-L353">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_point_on_sphere" href="#CoRaLS.random_point_on_sphere"><code>CoRaLS.random_point_on_sphere</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">random_point_on_sphere()</code></pre><p>Return cartesian point (x, y, z) randomly distributed on sphere of radius r.</p><p>This uses the triple gaussian method which is slightly faster than the  spherical coords method. https://mathworld.wolfram.com/SpherePointPicking.html</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L312-L319">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_south_pole_point-Tuple{}" href="#CoRaLS.random_south_pole_point-Tuple{}"><code>CoRaLS.random_south_pole_point</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">random_south_pole_point()</code></pre><p>Draw a random point on the South lunar pole</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L410-L414">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_vector" href="#CoRaLS.random_vector"><code>CoRaLS.random_vector</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">random_vector()</code></pre><p>Generate a random Cartesian direction distributed uniformly on the unit-sphere with the pole of the sphere aligned with <code>normal</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L528-L533">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.rotate_vector_to_align-Tuple{StaticArraysCore.SVector{3}, StaticArraysCore.SVector{3}, StaticArraysCore.SVector{3}}" href="#CoRaLS.rotate_vector_to_align-Tuple{StaticArraysCore.SVector{3}, StaticArraysCore.SVector{3}, StaticArraysCore.SVector{3}}"><code>CoRaLS.rotate_vector_to_align</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rotate_vector_to_align(vec, from, to)</code></pre><p>Rotate <code>vec</code> so that the direction <code>from</code> is aligned with <code>to</code>. If <code>from</code> and <code>to</code> are already aligned, returns <code>vec</code> unchanged. Numerically stable for nearly parallel vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L688-L694">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.spherical_cap_area" href="#CoRaLS.spherical_cap_area"><code>CoRaLS.spherical_cap_area</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">spherical_cap_area(theta, r)</code></pre><p>Area of a spherical cap with central angle <code>theta</code> and radius <code>r</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L556-L559">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.spherical_to_cartesian-Tuple{Any, Any, Any}" href="#CoRaLS.spherical_to_cartesian-Tuple{Any, Any, Any}"><code>CoRaLS.spherical_to_cartesian</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Convert a spherical point (theta, phi, r) into Cartesian coordinates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/geometry.jl#L459-L461">source</a></section></article><h2 id="ice.jl"><a class="docs-heading-anchor" href="#ice.jl">ice.jl</a><a id="ice.jl-1"></a><a class="docs-heading-anchor-permalink" href="#ice.jl" title="Permalink"></a></h2><p>Models interactions of the RF signal with a variably rough ice layer.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.GaussianIceRoughness" href="#CoRaLS.GaussianIceRoughness"><code>CoRaLS.GaussianIceRoughness</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GaussianIceRoughness(œÉ::typeof(0.0cm)) &lt;: IceRoughnessModel</code></pre><p>A model representing Gaussian ice surface roughness, characterized by a standard deviation (œÉ) of the angular distribution of the surface.</p><p><strong>Arguments</strong></p><ul><li><code>œÉ</code>: Standard deviation of the surface angles, representing the degree of roughness.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/ice.jl#L26-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.IceRoughnessModel" href="#CoRaLS.IceRoughnessModel"><code>CoRaLS.IceRoughnessModel</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ice.jl</code></pre><p>Models the surface roughness of ice, which is a critical factor in simulating the reflection and transmission of radio waves on ice surfaces. It includes abstract and concrete types representing different models of ice roughness and functions to apply these models to simulated electric fields.</p><p><strong>Main Components</strong></p><ul><li><p><code>IceRoughnessModel</code>: An abstract type for general ice roughness models.</p></li><li><p><code>NoIceRoughness</code>: A model representing no surface roughness (smooth ice).</p></li><li><p><code>GaussianIceRoughness</code>: A model representing Gaussian ice surface roughness, characterized by a standard deviation of surface angles.</p></li><li><p><code>ice_roughness</code>: Functions to apply roughness models to electric fields, modifying them based on the specified roughness model.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/ice.jl#L1-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.NoIceRoughness" href="#CoRaLS.NoIceRoughness"><code>CoRaLS.NoIceRoughness</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NoIceRoughness &lt;: IceRoughnessModel</code></pre><p>Represents a model of ice surface with no roughness (smooth surface). This model assumes a perfectly smooth ice surface, affecting the reflection and transmission of radio waves accordingly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/ice.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.ice_roughness-Tuple{NoIceRoughness, Any, Any, Any}" href="#CoRaLS.ice_roughness-Tuple{NoIceRoughness, Any, Any, Any}"><code>CoRaLS.ice_roughness</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ice_roughness(model::IceRoughnessModel, ŒΩ, E, Œ∏_i)</code></pre><p>Apply the specified ice roughness model to a simulated electric field. The function modifies the electric field based on the roughness characteristics of the model.</p><p><strong>Arguments</strong></p><ul><li><code>model</code>: An instance of <code>IceRoughnessModel</code> to apply.</li><li><code>ŒΩ</code>: Frequencies of the electric field.</li><li><code>E</code>: Electric field amplitudes.</li><li><code>Œ∏_i</code>: Angle of incidence at the ice surface.</li></ul><p><strong>Returns</strong></p><ul><li>Modified frequencies and electric field based on the roughness model. If the model is <code>NoIceRoughness</code>, the function returns the given frequencies and electric field. If the model is <code>GaussianIceRoughness</code>, the function modifies the electric field based on the &quot;Diffuse reflection by rough surfaces: an introduction&quot; by Sylvain, Pg. 671.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/ice.jl#L38-L51">source</a></section></article><h2 id="regolith.jl"><a class="docs-heading-anchor" href="#regolith.jl">regolith.jl</a><a id="regolith.jl-1"></a><a class="docs-heading-anchor-permalink" href="#regolith.jl" title="Permalink"></a></h2><p>Models the lunar regolith and propagation of RF signal through it.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.CE3Index" href="#CoRaLS.CE3Index"><code>CoRaLS.CE3Index</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>PL NOTE: Chang&#39;E-3 regolith index </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L36-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.CE4Index" href="#CoRaLS.CE4Index"><code>CoRaLS.CE4Index</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>PL NOTE: Chang&#39;E-4 regolith index </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L51-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.ConstantDensity" href="#CoRaLS.ConstantDensity"><code>CoRaLS.ConstantDensity</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Constant regolith density</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L61-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.ConstantIndex" href="#CoRaLS.ConstantIndex"><code>CoRaLS.ConstantIndex</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Constant regolith refractive index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L10-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.DivinerIndex" href="#CoRaLS.DivinerIndex"><code>CoRaLS.DivinerIndex</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>PL NOTE: Diviner regolith index </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L41-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.LunarSourceBookIndex" href="#CoRaLS.LunarSourceBookIndex"><code>CoRaLS.LunarSourceBookIndex</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>PL NOTE: Lunar Source Book regolith index </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L46-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.OldIncorrectDensity" href="#CoRaLS.OldIncorrectDensity"><code>CoRaLS.OldIncorrectDensity</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A logarithmic regolith density model from PG&#39;s ARIA MC.</p><p>This is <em>WRONG</em> - do <em>NOT</em> use this except when trying to reproduce or evaluate results from early August 2021.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L90-L96">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.RegolithDensity" href="#CoRaLS.RegolithDensity"><code>CoRaLS.RegolithDensity</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Abstract type for regolith density models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L56-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.RegolithIndex" href="#CoRaLS.RegolithIndex"><code>CoRaLS.RegolithIndex</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Abstract type for regolith index models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L5-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.StrangwayDensity" href="#CoRaLS.StrangwayDensity"><code>CoRaLS.StrangwayDensity</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A regolith density model from Olhoeft &amp; Strangway.</p><p>This is &quot;Curve A&quot; from O&amp;S.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L66-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.StrangwayDensityCB" href="#CoRaLS.StrangwayDensityCB"><code>CoRaLS.StrangwayDensityCB</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A regolith density model from Olhoeft &amp; Strangway.</p><p>This is &quot;Curve B&quot; from O&amp;S.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L73-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.StrangwayIndex" href="#CoRaLS.StrangwayIndex"><code>CoRaLS.StrangwayIndex</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A refractive index model from Olhoeft &amp; Strangway.</p><p>This uses Eq. 1 from Olhoeft and Strangway.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L23-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.StrangwayIndexCB" href="#CoRaLS.StrangwayIndexCB"><code>CoRaLS.StrangwayIndexCB</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>PL NOTE: Olhoeft and Strangway Curve B regolith index </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L31-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.SurfaceDeepIndex" href="#CoRaLS.SurfaceDeepIndex"><code>CoRaLS.SurfaceDeepIndex</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A &quot;surface&quot; and &quot;deep&quot; regolith model.</p><p>This uses a small refractive index at the surface and a larger one for below the surface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L15-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.create_density_lut" href="#CoRaLS.create_density_lut"><code>CoRaLS.create_density_lut</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_density_lut(N)</code></pre><p>Create a LUT of the density as a function of depth using &quot;Curve B&quot; from Olhoeft &amp; Strangway. <code>N</code> is the number of points in the LUT.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L265-L271">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.create_density_lut" href="#CoRaLS.create_density_lut"><code>CoRaLS.create_density_lut</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_density_lut(N)</code></pre><p>Create a LUT of the density as a function of depth using &quot;Curve A&quot; from Olhoeft &amp; Strangway. <code>N</code> is the number of points in the LUT.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L229-L235">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.regolith_density-Tuple{CE3LPRDensity, Any}" href="#CoRaLS.regolith_density-Tuple{CE3LPRDensity, Any}"><code>CoRaLS.regolith_density</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">regolith_density(::CE3LPRDensity, depth)</code></pre><p>Calculate the density of the regolith in g/cm^3 for depth.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L158-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.regolith_density-Tuple{CoRaLS.OldIncorrectDensity, Any}" href="#CoRaLS.regolith_density-Tuple{CoRaLS.OldIncorrectDensity, Any}"><code>CoRaLS.regolith_density</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">regolith_density(::OldIncorrectDensity, depth)</code></pre><p>Calculate the density of the regolith in g/cm^3 for depth.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L142-L146">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.regolith_density-Tuple{ConstantDensity, Any}" href="#CoRaLS.regolith_density-Tuple{ConstantDensity, Any}"><code>CoRaLS.regolith_density</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">regolith_density(::ConstantDensity, depth)</code></pre><p>Calculate the density of the regolith in g/cm^3.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L99-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.regolith_density-Tuple{StrangwayDensity, Any}" href="#CoRaLS.regolith_density-Tuple{StrangwayDensity, Any}"><code>CoRaLS.regolith_density</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">regolith_density(::StrangwayDensity, depth)</code></pre><p>Calculate the density of the regolith in g/cm^3 for depth using the Olhoeft &amp; Strangway curve.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L182-L187">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.regolith_density-Tuple{StrangwayDensityCB, Any}" href="#CoRaLS.regolith_density-Tuple{StrangwayDensityCB, Any}"><code>CoRaLS.regolith_density</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">regolith_density(::StrangwayDensity, depth)</code></pre><p>Calculate the density of the regolith in g/cm^3 for depth using the Olhoeft &amp; Strangway curve.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L206-L211">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.regolith_index" href="#CoRaLS.regolith_index"><code>CoRaLS.regolith_index</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">regolith_index(::IndexModel, depth, low_temp_corr_factor=0.9)</code></pre><p>A refractive index model from Olhoeft &amp; Strangway.</p><p>Dielectric constant fit is done by Olhoeft and Strangway Peter estimated a 10% reduction for lunar PSR&#39;s due to the ~80 K temperatures compared to the typical lunar temperatures of O&amp;S, hence the low<em>temp</em>corr_factor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L333-L342">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.regolith_index-Tuple{ConstantIndex, Any}" href="#CoRaLS.regolith_index-Tuple{ConstantIndex, Any}"><code>CoRaLS.regolith_index</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">regolith_index(::ConstantIndex, depth)</code></pre><p>A constant refractive index as a function of depth.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L303-L307">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.regolith_index-Tuple{SurfaceDeepIndex, Any}" href="#CoRaLS.regolith_index-Tuple{SurfaceDeepIndex, Any}"><code>CoRaLS.regolith_index</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">regolith_index(::SurfaceDeepIndex, depth)</code></pre><p>A two-part &quot;surface&quot; and &quot;deep&quot; refractive index model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/regolith.jl#L316-L320">source</a></section></article><h2 id="spectrum.jl"><a class="docs-heading-anchor" href="#spectrum.jl">spectrum.jl</a><a id="spectrum.jl-1"></a><a class="docs-heading-anchor-permalink" href="#spectrum.jl" title="Permalink"></a></h2><p>Cosmic ray spectrum (AUGER) calculations.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.auger_spectrum-Tuple{Any, Any}" href="#CoRaLS.auger_spectrum-Tuple{Any, Any}"><code>CoRaLS.auger_spectrum</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Randomly evaluate the Auger UHECR spectrum in eV^-1 km^-2 sr^-1 yr^-1 within experimental uncertainties.</p><p>This method differs from the one argument version of auger_spectrum() in that it randomly samples the parameters within experimental uncertainties so that you can capture the variation in the cosmic ray spectrum.</p><p>This uses the parameterization from:     https://academic.oup.com/ptep/article/2017/12/12A103/4665686</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/spectrum.jl#L171-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.auger_spectrum-Tuple{Any}" href="#CoRaLS.auger_spectrum-Tuple{Any}"><code>CoRaLS.auger_spectrum</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Evaluate the Auger UHECR spectrum in eV^-1 km^-2 sr^-1 yr^-1.</p><p>This uses the parameterization from:     https://academic.oup.com/ptep/article/2017/12/12A103/4665686</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/spectrum.jl#L135-L141">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.auger_spectrum_2020-Tuple{Any}" href="#CoRaLS.auger_spectrum_2020-Tuple{Any}"><code>CoRaLS.auger_spectrum_2020</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Evaluate the Auger UHECR spectrum in eV^-1 km^-2 sr^-1 yr^-1.</p><p>Valid for 10^18 to ~10^20 eV.</p><p>See Equation 9 in:     Measurement of the cosmic-ray energy spectrum above 2.5e18 eV using the      Pierre Auger Observatory. Phys.Rev.D (2020)      https://doi.org/10.1103/PhysRevD.102.062005</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/spectrum.jl#L57-L67">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.auger_spectrum_2021-Tuple{Any}" href="#CoRaLS.auger_spectrum_2021-Tuple{Any}"><code>CoRaLS.auger_spectrum_2021</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Evaluate the Auger UHECR spectrum in eV^-1 km^-2 sr^-1 yr^-1.</p><p>Valid for 10^17 to ~10^20 eV.</p><p>See Equation 9 in: Abreu, P., Aglietta, M., Albury, J.M. et al. The energy spectrum of cosmic rays  beyond the turn-down around 10^17 eV as measured with the surface detector of  the Pierre Auger Observatory. Eur. Phys. J. C 81, 966 (2021).  https://doi.org/10.1140/epjc/s10052-021-09700-w</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/spectrum.jl#L91-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.sample_auger-Tuple{Any, Any}" href="#CoRaLS.sample_auger-Tuple{Any, Any}"><code>CoRaLS.sample_auger</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample_auger(min_energy, max_energy)</code></pre><p>Draw a random sample from the Auger UHECR flux between <code>min_energy</code> and <code>max_energy</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/spectrum.jl#L241-L246">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.sample_power_law-Tuple{Any, Any}" href="#CoRaLS.sample_power_law-Tuple{Any, Any}"><code>CoRaLS.sample_power_law</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample_power_law(gamma, N; min_value, max_value)</code></pre><p>Draw <code>N</code> random samples from a power law with exponent <code>gammma</code>.</p><p>If provided, <code>min_value</code> and <code>max_value</code> set the range over which the power-law is sampled (defaults to 1 EeV and 1000 EeV)</p><p>This uses the prescription from:     https://mathworld.wolfram.com/RandomNumber.html to convert a uniform deviate into a power law with a given exponent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/spectrum.jl#L32-L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.sample_power_law-Tuple{Any}" href="#CoRaLS.sample_power_law-Tuple{Any}"><code>CoRaLS.sample_power_law</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample_power_law(gamma; min_value, max_value)</code></pre><p>Draw random samples from a power law with exponent <code>gammma</code>.</p><p>If provided, <code>min_value</code> and <code>max_value</code> set the range over which the power-law is sampled (defaults to 1 EeV and 1000 EeV)</p><p>This uses the prescription from:     https://mathworld.wolfram.com/RandomNumber.html to convert a uniform deviate into a power law with a given exponent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/spectrum.jl#L7-L19">source</a></section></article><h2 id="surface.jl"><a class="docs-heading-anchor" href="#surface.jl">surface.jl</a><a id="surface.jl-1"></a><a class="docs-heading-anchor-permalink" href="#surface.jl" title="Permalink"></a></h2><p>Models surface roughness and slope, including generating random surface normals and calculating surface transmission.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.GaussianRoughness" href="#CoRaLS.GaussianRoughness"><code>CoRaLS.GaussianRoughness</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Gaussian surface roughness model.</p><p>This is characterized by Gaussian &quot;sigma&quot; of the angular distribution of the surface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/surface.jl#L14-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.GaussianSlope" href="#CoRaLS.GaussianSlope"><code>CoRaLS.GaussianSlope</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Gaussian surface slope model.</p><p>This is characterized by Gaussian &quot;sigma&quot; of the angular distribution of the surface in degrees.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/surface.jl#L35-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.NoRoughness" href="#CoRaLS.NoRoughness"><code>CoRaLS.NoRoughness</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>No surface roughness (smooth)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/surface.jl#L9-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.NoSlope" href="#CoRaLS.NoSlope"><code>CoRaLS.NoSlope</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>No surface slope (smooth)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/surface.jl#L30-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.RoughnessModel" href="#CoRaLS.RoughnessModel"><code>CoRaLS.RoughnessModel</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Abstract type for regolith surface roughness model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/surface.jl#L4-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.SlopeModel" href="#CoRaLS.SlopeModel"><code>CoRaLS.SlopeModel</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Abstract type for regolith surface slope model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/surface.jl#L25-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_surface_normal-Tuple{GaussianSlope, Any}" href="#CoRaLS.random_surface_normal-Tuple{GaussianSlope, Any}"><code>CoRaLS.random_surface_normal</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">random_surface(slope::GaussianSlope, normal)</code></pre><p>Generate a random normal vector for a surface slope that would originally be pointing along <code>normal</code> in the absence of roughness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/surface.jl#L58-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.random_surface_normal-Tuple{NoSlope, Any}" href="#CoRaLS.random_surface_normal-Tuple{NoSlope, Any}"><code>CoRaLS.random_surface_normal</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">random_surface(slope::NoSlope, normal)</code></pre><p>Generate a random normal vector for a surface slope that would originally be pointing along <code>normal</code> in the absence of roughness.</p><p>This just returns <code>normal</code> since this implements a &quot;No Slope&quot; model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/surface.jl#L46-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.surface_transmission-Tuple{GaussianRoughness, Any, Any, Any, Vararg{Any}}" href="#CoRaLS.surface_transmission-Tuple{GaussianRoughness, Any, Any, Any, Vararg{Any}}"><code>CoRaLS.surface_transmission</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">surface_transmission(::GaussianRoughness, ŒΩ, E, Œ∏_i)</code></pre><p>Apply a simple model for surface transmission through a rough surface by taking the average of the transmission coefficient over the Gaussian</p><p>This is based on the &quot;Diffuse reflection by rough surfaces: an introduction&quot; by Sylvain, Pg. 671</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/surface.jl#L130-L139">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.surface_transmission-Tuple{NoRoughness, Any, Any, Any, Vararg{Any}}" href="#CoRaLS.surface_transmission-Tuple{NoRoughness, Any, Any, Any, Vararg{Any}}"><code>CoRaLS.surface_transmission</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">surface_transmission(::NoRoughness, ŒΩ, E, Œ∏_i)</code></pre><p>Apply roughness to a simulated electric field given the frequencies, the electric field, and the angle of incidence at the surface. This returns the frequencies and electric field back to the caller.</p><p>Without roughness, we just return ŒΩ and E as given.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/surface.jl#L108-L116">source</a></section></article><h2 id="trigger.jl"><a class="docs-heading-anchor" href="#trigger.jl">trigger.jl</a><a id="trigger.jl-1"></a><a class="docs-heading-anchor-permalink" href="#trigger.jl" title="Permalink"></a></h2><p>Simple triggers for cosmic ray detection.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.gaussian_trigger" href="#CoRaLS.gaussian_trigger"><code>CoRaLS.gaussian_trigger</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">gaussian_trigger(peak=67ŒºV/m, œÉ=45.0; dŒΩ=10.0MHz, Œ∏0=-90.)</code></pre><p>Creates a Gaussian beam threshold pointing down towards the nadir     with <code>peak</code> threshold at the nadir and a width of <code>œÉ</code> in degrees. This uses the current estimate for a sinuous antenna array by P. Gorham</p><p><strong>Arguments</strong></p><ul><li><code>peak=67ŒºV/m</code>: Peak threshold of the electric field at the nadir.</li><li><code>œÉ=45.0</code>: Width of the Gaussian beam in degrees.</li><li><code>dŒΩ=10.0MHz</code>: Frequency step size.</li><li><code>Œ∏0=-90.</code>: Nadir angle in degrees.</li></ul><p><strong>Returns</strong></p><p>A function that checks if an event&#39;s electric field, after being scaled by a Gaussian factor based on its off-axis angle, exceeds the peak threshold.</p><p><strong>Description</strong></p><p>This trigger function incorporates a Gaussian beam pattern, scaling the threshold for the electric field magnitude based on the event&#39;s off-axis angle relative to the nadir. The Gaussian factor decreases the effective threshold as the angle increases from the nadir.</p><p><strong>Usage</strong></p><p>Useful in scenarios where the sensitivity of detection varies with the angle of incident cosmic rays, simulating a realistic antenna response.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/trigger.jl#L29-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.magnitude_trigger" href="#CoRaLS.magnitude_trigger"><code>CoRaLS.magnitude_trigger</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">magnitude_trigger(peak=67ŒºV/m; dŒΩ=10.0MHz)</code></pre><p>Create a trigger function that checks if the total magnitude of the electric field is greater than some threshold.</p><p><strong>Arguments</strong></p><ul><li><code>peak=67ŒºV/m</code>: The threshold for the electric field&#39;s magnitude.</li><li><code>dŒΩ=10.0MHz</code>: Frequency step size.</li></ul><p><strong>Returns</strong></p><p>A function that checks if the norm of the electric field of an event is greater than the threshold.</p><p><strong>Description</strong></p><p>This function generates a trigger function that evaluates whether the total magnitude of the electric field for a cosmic ray event exceeds a specified threshold. The electric field magnitude is calculated as the product of the field&#39;s polarization norm, frequency step size, and sum of electric field components.</p><p><strong>Usage</strong></p><p>Used to filter events based on the strength of their electric field magnitude, allowing selection of significant cosmic ray events.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/trigger.jl#L4-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.rician_trigger-Tuple{}" href="#CoRaLS.rician_trigger-Tuple{}"><code>CoRaLS.rician_trigger</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rician_trigger(;snr_threshold=5.0, bw=900.0MHz, peak=calculated, œÉ=45.0)</code></pre><p>Create a Rician beam trigger function based on signal-to-noise ratio.</p><p><strong>Parameters</strong></p><ul><li><code>snr_threshold=5.0</code>: The signal-to-noise ratio threshold for triggering.</li><li><code>bw=900.0MHz</code>: Bandwidth for the trigger.</li><li><code>peak=calculated</code>: Peak threshold calculated based on the provided parameters.</li><li><code>œÉ=45.0</code>: Width of the Gaussian beam in degrees.</li></ul><p><strong>Returns</strong></p><p>A trigger function that evaluates if the signal-to-noise ratio of an event&#39;s electric field exceeds the specified threshold.</p><p><strong>Description</strong></p><p>This trigger function calculates a scaled threshold based on the event&#39;s off-axis angle and evaluates if the event&#39;s electric field, subjected to a Rician distributed noise model, surpasses this threshold. The function accounts for both primary and subsurface reflections.</p><p><strong>Usage</strong></p><p>Ideal for more sophisticated detection scenarios where the signal-to-noise ratio plays a crucial role in determining event significance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/trigger.jl#L57-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.trigger_all-Tuple{}" href="#CoRaLS.trigger_all-Tuple{}"><code>CoRaLS.trigger_all</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">trigger_all()</code></pre><p>Always triggers. Used for testing geometric acceptance and debugging.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/trigger.jl#L122-L126">source</a></section></article><h2 id="detector.jl"><a class="docs-heading-anchor" href="#detector.jl">detector.jl</a><a id="detector.jl-1"></a><a class="docs-heading-anchor-permalink" href="#detector.jl" title="Permalink"></a></h2><p>Detector models for complex triggering with antennas and SNR levels.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.ANITA-Tuple{}" href="#CoRaLS.ANITA-Tuple{}"><code>CoRaLS.ANITA</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ANITA(;kwargs...)</code></pre><p>Create a model for the ANtarctic Impulsive Transient Antenna (ANITA) used in cosmic ray detection simulations. Configures the ANITA system based on given parameters or defaults.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>kwargs</code>: Parameters for the ANITA model, including frequency range and other antenna-specific settings.</li></ul><p><strong>Returns</strong></p><ul><li>A configured ANITA antenna model.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/detector.jl#L253-L263">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.LPDA-Tuple{}" href="#CoRaLS.LPDA-Tuple{}"><code>CoRaLS.LPDA</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LPDA(;kwargs...)</code></pre><p>Create a model for the Low-Profile Dipole Array (LPDA) used in cosmic ray detection simulations. Configures the LPDA based on given parameters or defaults.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>kwargs</code>: Parameters for the LPDA model, such as altitude, frequency range, and noise settings.</li></ul><p><strong>Returns</strong></p><ul><li>A configured LPDA antenna model.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/detector.jl#L240-L250">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.create_antenna-Tuple{Any}" href="#CoRaLS.create_antenna-Tuple{Any}"><code>CoRaLS.create_antenna</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_antenna(fname, skyfrac; kwargs...)</code></pre><p>Construct an antenna-factor based antenna simulation. This function sets up the parameters for an antenna system, including its frequency range, noise characteristics, and response factors, based on antenna factor data from a file.</p><p><strong>Arguments</strong></p><ul><li><code>fname</code>: Filename containing antenna factor data.</li><li><code>skyfrac</code>: Fraction of the antenna&#39;s view that is sky.</li><li><code>kwargs</code>: Additional keyword arguments including altitude, frequency range, angular resolutions, and trigger settings.</li></ul><p><strong>Returns</strong></p><ul><li>A function that evaluates the antenna trigger condition for a given event.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/detector.jl#L17-L29">source</a></section></article><h2 id="Sky"><a class="docs-heading-anchor" href="#Sky">Sky</a><a id="Sky-1"></a><a class="docs-heading-anchor-permalink" href="#Sky" title="Permalink"></a></h2><p>Computes the sky temperature for noise calculations in <code>detector.jl</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.extragalactic_noise-Tuple{Any}" href="#CoRaLS.extragalactic_noise-Tuple{Any}"><code>CoRaLS.extragalactic_noise</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">extragalactic_noise(ŒΩ)</code></pre><p>Calculate the extragalactic contribution to RF background noise  (in W m^-2 Hz^-1 sr^-1) as function of frequency (in MHz) near the galactic poles.</p><p><strong>Arguments</strong></p><ul><li><code>ŒΩ</code>: Frequency at which the extragalactic noise is to be calculated.</li></ul><p><strong>Returns</strong></p><p>The extragalactic noise in W m^-2 Hz^-1 sr^-1.</p><p><strong>Description</strong></p><p>This function estimates the extragalactic noise contribution based on the frequency. It uses a parameterization taken from Dulk (2001), specifically tailored for observations near the galactic poles:     https://www.aanda.org/articles/aa/full/2001/02/aads1858/aads1858.right.html</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/sky.jl#L26-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.galactic_noise-Tuple{Any}" href="#CoRaLS.galactic_noise-Tuple{Any}"><code>CoRaLS.galactic_noise</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">galactic_noise(ŒΩ)</code></pre><p>Calculate the galactic contribution to RF background noise as function of frequency near the galactic poles.</p><p><strong>Arguments</strong></p><ul><li><code>ŒΩ</code>: Frequency at which the galactic noise is to be calculated.</li></ul><p><strong>Returns</strong></p><p>The galactic noise in W m^-2 Hz^-1 sr^-1.</p><p><strong>Description</strong></p><p>This function computes the galactic noise component of the RF background. The calculation is based on a model from Dulk (2001):     https://www.aanda.org/articles/aa/full/2001/02/aads1858/aads1858.right.html</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/sky.jl#L57-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.sky_temperature-Tuple{Any}" href="#CoRaLS.sky_temperature-Tuple{Any}"><code>CoRaLS.sky_temperature</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sky_temperature(ŒΩ)</code></pre><p>Calculate the brightness temperature near the galactic poles as a function of frequency.</p><p><strong>Arguments</strong></p><ul><li><code>ŒΩ</code>: Frequency at which the sky temperature is to be calculated.</li></ul><p><strong>Returns</strong></p><p>The brightness temperature near the galactic poles in Kelvin.</p><p><strong>Description</strong></p><p>This function calculates the combined extragalactic and galactic noise contributions to the radio frequency background and converts it into a brightness temperature. This temperature is a crucial parameter in astrophysical studies, especially when analyzing cosmic ray interactions and detections near the galactic poles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/sky.jl#L2-L15">source</a></section></article><h2 id="utils.jl"><a class="docs-heading-anchor" href="#utils.jl">utils.jl</a><a id="utils.jl-1"></a><a class="docs-heading-anchor-permalink" href="#utils.jl" title="Permalink"></a></h2><p>Miscellaneous utilities.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.polarization_angle-Tuple{Any}" href="#CoRaLS.polarization_angle-Tuple{Any}"><code>CoRaLS.polarization_angle</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">polarization_angle(events)</code></pre><p>Calculate the polarization angle for a given set of events.</p><p><strong>Arguments</strong></p><ul><li><code>events</code>: A collection of event data, each with a polarization vector.</li></ul><p><strong>Returns</strong></p><p>An array of polarization angles in degrees.</p><p><strong>Description</strong></p><p>This function computes the polarization angle for each event in the provided collection. The polarization angle is calculated relative to the horizontal plane of the antenna array, with 0 degrees corresponding to horizontal polarization and 90 degrees to vertical polarization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/utils.jl#L29-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.retrigger-Tuple{Any, Any}" href="#CoRaLS.retrigger-Tuple{Any, Any}"><code>CoRaLS.retrigger</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">retrigger(AŒ©, trig)</code></pre><p>Recalculate the effective acceptance for direct and reflected events.</p><p><strong>Arguments</strong></p><ul><li><code>AŒ©</code>: A struct holding initial acceptance calculation results.</li><li><code>trig</code>: A trigger function used to reassess event acceptance.</li></ul><p><strong>Returns</strong></p><p>A tuple containing the recalculated effective acceptances for direct and reflected events.</p><p><strong>Description</strong></p><p>This function applies a new trigger to a set of cosmic ray events, recalculating the effective acceptance based on which events would pass this new trigger. It&#39;s useful for assessing the impact of different trigger criteria on event detection rates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/utils.jl#L76-L90">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.rician" href="#CoRaLS.rician"><code>CoRaLS.rician</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rician(ŒΩ, œÉ, N = 1)</code></pre><p>Draw one or more Rician random variables.</p><p>Arguments:</p><ul><li><code>ŒΩ</code>: The noncentrality parameter, can be a scalar or an array.</li><li><code>œÉ</code>: The scale parameter, can be a scalar or an array matching the size of <code>ŒΩ</code>.</li><li><code>N = 1</code>: The number of samples to draw. Used only if <code>ŒΩ</code> is a scalar.</li></ul><p><strong>Returns</strong></p><ul><li>If <code>ŒΩ</code> and <code>œÉ</code> are single values, it returns a single Rician random variable.</li><li>If <code>ŒΩ</code> and <code>œÉ</code> are arrays, it returns an array of Rician random variables with each element corresponding to elements in <code>ŒΩ</code> and <code>œÉ</code>.</li><li>If <code>ŒΩ</code> is a single value and <code>N &gt; 1</code>, it returns an array of <code>N</code> Rician random variables, all generated with the same <code>ŒΩ</code> and <code>œÉ</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/utils.jl#L1-L16">source</a></section></article><h2 id="plots.jl"><a class="docs-heading-anchor" href="#plots.jl">plots.jl</a><a id="plots.jl-1"></a><a class="docs-heading-anchor-permalink" href="#plots.jl" title="Permalink"></a></h2><p>Visualization Tools for CoRaLS Simulation Data</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.mcse-Tuple{Int64, Int64}" href="#CoRaLS.mcse-Tuple{Int64, Int64}"><code>CoRaLS.mcse</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mcse(count, ntrials, [gAŒ©])</code></pre><p>Compute the Monte Carlo Standard Error as count or acceptance if gAŒ© is given.</p><p>Uses Monte Carlo Standard Error for binomial proportion: sqrt(p*(1-p)/n)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/plots.jl#L310-L316">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.plot_acceptance-Tuple{Union{CoRaLS.Acceptance, CoRaLS.OldAcceptance}}" href="#CoRaLS.plot_acceptance-Tuple{Union{CoRaLS.Acceptance, CoRaLS.OldAcceptance}}"><code>CoRaLS.plot_acceptance</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_acceptance(AŒ©::Acceptance)</code></pre><p>Plot the direct and reflected acceptance of the CoRaLS project.</p><p>Arguments:</p><ul><li><code>AŒ©::Acceptance</code>: An object containing the acceptance calculation results.</li></ul><p>This function generates a line plot illustrating the acceptance rates for both direct and reflected events across different energy levels.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/plots.jl#L188-L197">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.plot_differential_spectrum-Tuple{Union{CoRaLS.Acceptance, CoRaLS.OldAcceptance}, Any}" href="#CoRaLS.plot_differential_spectrum-Tuple{Union{CoRaLS.Acceptance, CoRaLS.OldAcceptance}, Any}"><code>CoRaLS.plot_differential_spectrum</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_differential_spectrum(AŒ©::Acceptance, T::Unitful.Time)</code></pre><p>Create a plot of the differential event spectrum of CoRaLS events given an acceptance object and a mission duration.</p><p>Arguments:</p><ul><li><code>AŒ©::Acceptance</code>: An object containing the acceptance calculation results.</li><li><code>T::Unitful.Time</code>: The total observation time of the experiment.</li></ul><p>This function plots the estimated number of events per energy bin over the duration of the mission.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/plots.jl#L253-L263">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.plot_incident_angles-Tuple{Union{CoRaLS.Acceptance, CoRaLS.OldAcceptance}}" href="#CoRaLS.plot_incident_angles-Tuple{Union{CoRaLS.Acceptance, CoRaLS.OldAcceptance}}"><code>CoRaLS.plot_incident_angles</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_incident_angles(AŒ©::Acceptance)</code></pre><p>Plot the incident angles at the ice and the surface for both direct and reflected events, along with the corresponding Fresnel coefficients.</p><p>Arguments:</p><ul><li><code>AŒ©::Acceptance</code>: An object containing the acceptance calculation results.</li></ul><p>Generates a two-part plot. The left plot shows histograms of incident angles at the surface for direct and reflected events. The right plot shows incident angles at the ice layer for reflected events. Behind these histograms, the function plots the transmission and reflection coefficients as a function of the incident angle.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/plots.jl#L19-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.plot_offaxis_angle-Tuple{Union{CoRaLS.Acceptance, CoRaLS.OldAcceptance}}" href="#CoRaLS.plot_offaxis_angle-Tuple{Union{CoRaLS.Acceptance, CoRaLS.OldAcceptance}}"><code>CoRaLS.plot_offaxis_angle</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_offaxis_angle(AŒ©::Acceptance)</code></pre><p>Generate a plot showing the off-axis angle distribution of direct and reflected events in the CoRaLS simulations.</p><p>Arguments:</p><ul><li><code>AŒ©::Acceptance</code>: An object containing the acceptance calculation results.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/plots.jl#L154-L161">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.plot_polarization_angle-Tuple{Union{CoRaLS.Acceptance, CoRaLS.OldAcceptance}}" href="#CoRaLS.plot_polarization_angle-Tuple{Union{CoRaLS.Acceptance, CoRaLS.OldAcceptance}}"><code>CoRaLS.plot_polarization_angle</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_polarization_angle(AŒ©::Acceptance)</code></pre><p>Plot histograms of polarization angles for direct and reflected events.</p><p>Arguments:</p><ul><li><code>AŒ©::Acceptance</code>: An object containing the acceptance calculation results.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/plots.jl#L106-L113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoRaLS.plot_rate_experiment-Tuple{Any, Any}" href="#CoRaLS.plot_rate_experiment-Tuple{Any, Any}"><code>CoRaLS.plot_rate_experiment</code></a> ‚Äî <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_rate_experiment(AŒ©::Acceptance, xs; xlabel)</code></pre><p>Plot the counts in events / yr for an array of acceptance runs computed at some variable x (e.g., ice depths, altitudes).</p><p>Arguments:</p><ul><li>AŒ©s : Array of acceptance objects.</li><li>xs : Array of paramter values for the x axis corresponding to each AŒ©.</li></ul><p>This function plots the estimated number of events per energy bin over the duration of the mission.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cjtu/CoRaLS.jl/blob/5e26f9b6699016d5310e7cec1fe528a652864d31/src/plots.jl#L322-L333">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../simulate_jl/">¬´ simulate.jl: Main Cosmic Ray Simulation</a><a class="docs-footer-nextpage" href="../other_modules/">Other Modules ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Tuesday 17 February 2026 21:17">Tuesday 17 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
